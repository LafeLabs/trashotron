<!doctype html>
<html lang="en">
<head>  
    <meta charset="utf-8">

        <!--

TRASH MAGIC 

EVERYTHING IS PHYSICAL
EVERYTHING IS FRACTAL 
EVERYTHING IS RECURSIVE

NO MONEY
NO MINING
NO PROPERTY

LOOK AT THE FUNGI
LOOK AT THE INSECTS
LANGUAGE IS HOW THE MIND PARSES REALITY


WELCOME GOTH PASTA! LET'S BUILD THIS ALL OVER NEW YORK CITY AND FROM THERE TO A WHOLE NEW CIVILIZATION!


    All Code, text, art, media, technology, and ideas CC0 PUBLIC DOMAIN



    -->
    
<link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAA4A8AAO/vAADqrwAA6q8AAOqvAADqrwAA6q8AAOqvAADqrwAA7+8AAMAHAADf9wAAwAcAAPu/AAD4PwAA" rel="icon" type="image/x-icon" />


       <!--Stop Google:-->
    <META NAME="robots" CONTENT="noindex,nofollow">
   <title>TRASH MAGIC</title>    
   <script src = "geometron.js"></script>
   
</head>
<body>    

<table id = "controltable">
    <tr>
        <td id = "stop"><canvas id = "stopicon"></canvas></td>
        <td id = "away"><canvas id = "awayicon"></canvas></td>
        <td id = "up"><canvas id = "upicon"></canvas></td>
    </tr>
    <tr>
        <td id = "left"><canvas id = "lefticon"></canvas></td>
        <td id = "middle"><canvas id = "icon"></canvas></td>
        <td id = "right"><canvas id = "righticon"></canvas></td>
    </tr>
    <tr>
        <td id = "go"><canvas id = "goicon"></canvas></td>
        <td id = "towards"><canvas id = "towardsicon"></canvas></td>
        <td id = "down"><canvas id = "downicon"></canvas></td>
    </tr>
</table>

<table id = "inputtable">
    <tr>
        <td>
            SQUARE SIZE[PX]:
        </td>
        <td>
            <input id = "squaresizeinput"/>
        </td>
    </tr>
    <tr>
        <td>KEYBOARD INPUT(NUMKEYS):</td>
        <td>
            <input id = "actioninput"/>
        </td>
    </tr>
</table>
<table id = "responsetable">
    <tr>
        <td id = "en1">!en1</td>
        <td id = "en2">!en2</td>
        <td id = "en3">!en3</td>
    </tr>
    <tr>
        <td id = "dir1">dir1</td>
        <td id = "dir2">dir2</td>
        <td id = "dir3">dir3</td>
    </tr>
</table>
<script>

//glyph = "0500,0501,0502,0503,0504,0505,0506,0507,";
glyph = "0400,0401,0402,0403,0404,0405,";


side = 100;//step size in milliseconds 


star = "0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0502,0504,0502,0504,0502,0502,0504,0502,0504,0502,0504,0502,0502,0504,0502,0504,0502,0504,0502,0502,0504,0502,0504,0502,0504,0502,0504,0502,0502,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0501,0507,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0507,0504,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0500,0507,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0505,0502,0502,0505,0502,0502,0505,0502,0505,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0502,0505,0502,0505,0502,0505,0502,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0507,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0507,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0504,0502,0504,0502,0502,0504,0502,0504,0502,0504,0502,0502,0504,0502,0504,0502,0504,0502,0502,0504,0502,0504,0502,0502,0504,0502,0504,0502,0504,0506,0502,0504,0502,0504,0502,0504,0502,0502,0504,0502,0504,0502,0502,0504,0502,0506,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,";


lsp = "0327,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0502,0505,0502,0501,0506,0501,0501,0501,0506,0501,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0507,0501,0507,0501,0507,0501,0503,0503,0505,0503,0501,0501,0501,0501,0507,0501,0501,0507,0501,0507,0501,0507,0501,0503,0503,0503,0504,0503,0503,0504,0503,0505,0501,0501,0501,0507,0501,0505,0503,0503,0503,0504,0503,0507,0500,0500,0500,0505,0505,0503,0505,0503,0505,0503,0503,0503,0503,0504,0503,0500,0500,0500,0507,0501,0507,0501,0507,0501,0503,0503,0504,0503,0507,0500,0500,0500,0507,0500,0500,0507,0501,0503,0503,0503,0503,0504,0503,0504,0503,0504,0503,0500,0500,0500,0506,0500,0500,0506,0500,0500,0503,0503,0504,0503,0503,0504,0503,0504,0503,0500,0500,0507,0500,0500,0500,0500,0506,0500,0500,0500,0506,0500,0506,0500,0500,0502,0504,0502,0502,0504,0502,0504,0502,0507,0500,0503,0500,0507,0500,0500,0500,0507,0500,0500,0500,0500,0506,0500,0500,0506,0500,0506,0500,0502,0504,0502,0502,0504,0502,0502,0502,0504,0502,0502,0504,0502,0500,0500,0500,0506,0500,0500,0506,0500,0500,0506,0500,0506,0500,0502,0504,0502,0502,0504,0502,0502,0502,0502,0502,0502,0505,0502,0502,0505,0502,0505,0502,0502,0505,0502,0501,0506,0501,0501,0506,0501,0501,0506,0501,0501,0501,0501,0502,0502,0505,0502,0502,0502,0505,0502,0505,0502,0505,0502,0501,0506,0501,0501,0501,0506,0501,0501,0501,0501,0507,0501,0507,0501,0507,0501,0505,0502,0502,0505,0502,0507,0507,0507,0507,0507,0507,0507,0507,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0507,0501,0507,0501,0503,0503,0505,0503,0503,0503,0503,0503,0504,0503,0503,0503,0504,0503,0503,0503,0504,0503,0503,0503,0500,0502,0502,0507,0507,0500,0502,0502,0502,0502,0505,0502,0502,0502,0505,0502,0502,0502,0502,0502,0502,0502,0504,0502,0504,0502,0500,0500,0506,0500,0500,0500,0500,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0503,0507,0501,0501,0501,0501,0507,0501,0501,0501,0501,0501,0501,0506,0501,0501,0506,0501,0501,0501,0506,0501,0501,0506,0501,0506,0501,0501,0506,0501,0503,0505,0503,0500,0503,0500,0507,0500,0503,0500,0507,0500,0500,0507,0500,0500,0507,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0506,0500,0500,0500,0504,0504,0504,0504,0506,0506,0506,0504,0506,0502,0502,0502,0504,0502,0504,0502,0507,0500,0507,0500,0505,0505,0505,0506,0502,0505,0502,0502,0502,0502,0504,0502,0500,0507,0500,0503,0503,0503,0507,0507,0507,0507,0507,0500,0500,0503,0501,0504,0507,0504,0500,0502,0502,0502,0502,0506,0506,0506,0506,0506,0506,0506,0506,0505,0505,0502,0502,0504,0502,0502,0505,0505,0503,0503,0504,0502,0507,0507,0507,0504,0504,0504,0504,0504,0504,0324,0500,0500,0507,0500,0500,0506,0500,0504,0502,0503,0503,0503,0500,0507,0500,0500,0500,0505,0505,0503,0501,0503,0503,0503,0503,0505,0502,0505,0502,0502,0501,0507,0501,0501,0501,0504,0502,0504,0502,0502,0505,0502,0505,0502,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0507,0507,0507,";

shapes = [
    "0220:0210,0336,0331,0333,0337,0200,0336,0330,0332,0337,0211,",
    "0221:0336,0210,0210,0306,0312,0330,0335,0335,0350,0335,0337,0362,0203,0335,0335,0335,0335,0203,0335,0335,0335,0335,0203,0363,0334,0336,0331,0304,0313,0211,0211,0337,0320,",
    "0222:0220,0336,0336,0330,0332,0336,0332,0336,0331,0337,0337,",
    "0223:0365,0336,0336,0330,0337,0333,0337,0331,0333,0337,0337,",
    "0224:0220,0325,0221,0222,062,0223,",
    "0225:0220,0325,0335,0335,0221,0335,0335,0222,070,0223,",
    "0226:0220,0326,0221,0222,063,0223,",
    "0227:0220,0326,0335,0335,0221,0335,0335,0222,071,0223,",
    "0230:0220,0322,0334,0221,0335,0222,064,0223,",
    "0231:0220,0322,0335,0221,0334,0222,066,0223,",
    "0232:0220,0336,0336,0325,0347,0337,0337,0320,0222,067,0223,",
    "0233:0220,0336,0336,0336,0331,0333,0337,0200,0336,0330,0330,0310,0337,0330,0335,0350,0310,0335,0337,0322,0362,0203,0335,0203,0335,0203,0335,0203,0335,0203,0335,0203,0335,0203,0335,0203,0363,0320,0334,0334,0336,0331,0313,0304,0310,0337,0313,0336,0331,0332,0337,0337,0337,0222,061,0223,",
    "0234:0332,0230,0333,0333,0231,0330,0332,0224,0331,0331,0225,0333,0227,0330,0330,0226,0332,0332,0233,0331,0331,0232,0330,0333,0336,0336,0336,0235,0337,0337,0337,",
    "0235:0504,0504,0504,0504,0504,0504,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0505,0505,0505,0505,0505,0505,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0507,0500,0507,0500,0507,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0503,0503,0503,0500,0500,0500,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0500,0500,0507,0500,0503,0503,0503,0503,0503,0503,0503,0503,0503,0505,0503,0501,0506,0506,0506,0506,0506,0506,0506,0505,0506,0506,0506,0506,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0501,0501,0501,0503,0503,0503,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0505,0503,0505,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0503,0507,0507,0507,0507,0507,0504,0504,0504,0504,0504,0504,0503,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0500,0507,0507,0507,0507,0507,0507,0504,0504,0504,0504,0500,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0502,0507,0507,0507,0507,0507,0507,0505,0505,0505,0505,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0501,0507,0507,0507,0507,0507,0507,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0502,0502,0502,0502,0502,0502,0502,0500,0500,0500,0502,0502,0505,0502,0502,0505,0502,0502,0505,0502,0502,0507,0505,0503,0503,0505,0503,0503,0505,0503,0503,0503,0500,0500,0507,0507,0507,0507,0507,0507,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0503,0505,0502,0502,0504,0502,0505,0502,0501,0501,0506,0501,0501,0506,0501,0501,0506,0501,0503,0503,0504,0503,0503,0504,0503,0503,0504,0503,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0505,0505,0501,0501,0502,0502,0501,0507,0501,0501,0501,0507,0501,0501,0501,0507,0501,0501,0504,0507,0500,0500,0500,0507,0500,0500,0500,0507,0500,0500,0502,0502,0500,0507,0507,0507,0507,0507,0507,0504,0507,0507,0507,0504,0507,0504,0504,0507,0507,0507,0507,0500,0505,0502,0501,0503,0505,0503,0503,0505,0503,0503,0505,0503,0503,0500,0506,0500,0500,0506,0500,0500,0500,0506,0500,0500,0505,0502,0502,0502,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0503,0503,0503,0503,0503,0503,0503,0501,0501,0503,0503,0504,0503,0503,0504,0503,0503,0504,0503,0503,0504,0506,0502,0502,0504,0502,0502,0504,0502,0502,0502,0501,0501,0502,0502,0502,0502,0502,0502,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0504,0502,0502,0502,0502,0502,0502,0507,0507,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0504,0507,0500,0500,0500,0506,0500,0500,0506,0500,0500,0506,0500,0503,0503,0505,0503,0503,0505,0503,0503,0503,0505,0503,0505,0502,0505,0502,0507,0501,0506,0502,0502,0507,0507,0504,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0507,0504,0507,0507,0500,0500,0500,0500,0500,0502,0502,0502,0507,0500,0500,0500,0507,0500,0500,0507,0500,0500,0507,0500,0500,0505,0507,0501,0501,0507,0501,0501,0501,0507,0501,0501,0501,0502,0502,0501,0501,0501,0501,0507,0507,0507,0507,0507,0507,0507,0507,0505,0505,0505,0507,0507,0507,0503,0504,0503,0500,0506,0500,0503,0503,0504,0503,0504,0503,0503,0504,0503,0503,0504,0503,0501,0501,0501,0506,0501,0501,0506,0501,0501,0506,0501,0504,0502,0502,0505,0502,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0505,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,0506,",
    "01220:0333,0200,0336,0330,0332,0220,0331,0333,0337,",
    "01221:0333,0200,0336,0330,0332,0221,0331,0333,0337,",
    "01222:0333,0200,0336,0330,0332,0336,0330,0332,0336,0341,0331,0331,0333,0333,0337,0337,0336,0330,0335,0330,0335,0335,0201,0334,0201,0201,0334,0201,0334,0331,0333,0337,0337,",
    "01223:0333,0200,0336,0330,0332,0336,0330,0332,0336,0341,0333,0333,0333,0331,0331,0331,0331,0331,0332,0335,0337,0201,0334,0201,0201,0334,0201,0335,0331,0333,0331,0333,0336,0331,0337,0337,0337,",
    "01224:0333,0200,0336,0330,0332,0224,0331,0333,0337,",
    "01225:0333,0200,0336,0330,0332,0225,0331,0333,0337,",
    "01226:0333,0200,0336,0330,0332,0226,0331,0333,0337,",
    "01227:0333,0200,0336,0330,0332,0227,0331,0333,0337,",
    "01230:0333,0200,0336,0330,0332,0230,0331,0333,0337,",
    "01231:0333,0200,0336,0330,0332,0231,0331,0333,0337,",
    "01232:0333,0200,0336,0330,0332,0232,0331,0333,0337,",
    "01233:0333,0200,0336,0330,0332,0233,0331,0333,0337,",
    "01234:0333,0200,0336,0330,0332,0336,0234,0337,0331,0333,0337,",
    "01235:0333,0200,0336,0330,0332,0336,0336,0235,0337,0337,0331,0333,0337,",
    "01236:0333,0200,",
    "01237:0333,0200,",
    "0240:0220,0336,0331,0333,0336,0321,0335,0342,0335,0335,0342,0335,0330,0330,0332,0332,0337,0337,",
    "01240:0333,0200,0336,0330,0332,0210,0240,0211,0333,0331,0337,",
    "0241:0220,0336,0321,0343,0332,0350,0335,0336,0342,0334,0334,0342,0335,0304,0337,0333,0337,",
    "01241:0333,0200,0336,0332,0330,0210,0241,0211,0333,0331,0337,",
    "0242:0220,0321,0336,0343,0333,0336,0350,0335,0342,0334,0334,0342,0335,0337,0304,0332,0337,",
    "01242:0333,0200,0336,0330,0332,0210,0242,0211,0333,0331,0337,",
    "0243:0220,0336,0331,0332,0336,0321,0343,0332,0350,0334,0336,0342,0335,0335,0342,0337,0334,0334,0335,0304,0332,0330,0330,0337,0337,0333,",
    "01243:0333,0200,0336,0330,0332,0210,0243,0211,0333,0331,0337,",
    "0244:0220,0336,0331,0333,0336,0321,0343,0333,0350,0336,0335,0342,0334,0334,0342,0335,0337,0304,0333,0330,0330,0337,0337,0332,",
    "01244:0333,0200,0336,0330,0332,0210,0244,0211,0333,0331,0337,",
    "0245:0210,0332,0332,0362,0335,0203,0203,0203,0203,0334,0203,0363,0332,0332,0331,0211,",
    "01245:0333,0200,0336,0330,0332,0336,0245,0337,0333,0331,0337,",
    "0246:0210,0332,0332,0335,0306,0336,0330,0335,0335,0335,0321,0362,0203,0335,0335,0203,0364,0331,0350,0335,0337,0366,0333,0333,0333,0333,0334,0334,0334,0334,0367,0335,0336,0342,0334,0334,0342,0330,0330,0330,0330,0335,0335,0335,0304,0337,0211,",
    "01246:0333,0200,0336,0330,0332,0336,0246,",
    "0247:0330,0332,0336,0332,0336,0221,0333,0333,0333,0222,0333,0333,0333,0223,0333,0333,0333,0225,0333,0331,0331,0331,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0333,0333,0226,0331,0331,0331,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0330,0333,0330,0330,0333,0330,0331,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0227,0333,0333,0333,0230,0333,0331,0331,0331,0331,0332,0332,0332,0330,0332,0332,0332,0332,0332,0332,0333,0333,0231,0333,0333,0333,0232,0331,0333,0330,0333,0333,0233,0333,0333,0333,0234,0330,0330,0332,0330,0332,0332,0337,0337,",
    "01247:0333,0200,0336,0330,0332,0220,0336,0247,0337,0331,0333,0337,"
  ];
  
iconsize = 150;

var stopGVM = new GVM(document.getElementById("stopicon"),iconsize,iconsize);
stopGVM.importbytecode(hypercube);
stopGVM.importbytecode(shapes);
stopGVM.unit = 150;
stopGVM.drawGlyph("0233");    

var awayGVM = new GVM(document.getElementById("awayicon"),iconsize,iconsize);
awayGVM.importbytecode(hypercube);
awayGVM.importbytecode(shapes);
awayGVM.unit = 150;
awayGVM.drawGlyph("0224");    


var upGVM = new GVM(document.getElementById("upicon"),iconsize,iconsize);
upGVM.importbytecode(hypercube);
upGVM.importbytecode(shapes);
upGVM.unit = 150;
upGVM.drawGlyph("0226");    


var leftGVM = new GVM(document.getElementById("lefticon"),iconsize,iconsize);
leftGVM.importbytecode(hypercube);
leftGVM.importbytecode(shapes);
leftGVM.unit = 150;
leftGVM.drawGlyph("0230");    

var rightGVM = new GVM(document.getElementById("righticon"),iconsize,iconsize);
rightGVM.importbytecode(hypercube);
rightGVM.importbytecode(shapes);
rightGVM.unit = 150;
rightGVM.drawGlyph("0231");    


var goGVM = new GVM(document.getElementById("goicon"),iconsize,iconsize);
goGVM.importbytecode(hypercube);
goGVM.importbytecode(shapes);
goGVM.unit = 150;
goGVM.drawGlyph("0232");    


var towardsGVM = new GVM(document.getElementById("towardsicon"),iconsize,iconsize);
towardsGVM.importbytecode(hypercube);
towardsGVM.importbytecode(shapes);
towardsGVM.unit = 150;
towardsGVM.drawGlyph("0225");    


var downGVM = new GVM(document.getElementById("downicon"),iconsize,iconsize);
downGVM.importbytecode(hypercube);
downGVM.importbytecode(shapes);
downGVM.unit = 150;
downGVM.drawGlyph("0227");    

iconsize = 150;
var newGVM = new GVM(document.getElementById("icon"),iconsize,iconsize);
newGVM.importbytecode(hypercube);
newGVM.drawGlyph(lsp);    



document.getElementById("en1").style.backgroundColor = "white";
document.getElementById("en2").style.backgroundColor = "white";
document.getElementById("en3").style.backgroundColor = "white";
document.getElementById("dir1").style.backgroundColor = "black";
document.getElementById("dir2").style.backgroundColor = "black";
document.getElementById("dir3").style.backgroundColor = "black";

//z:

document.getElementById("up").onmousedown = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "black";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}
document.getElementById("up").onmouseup = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}

document.getElementById("down").onmousedown = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "black";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "white";
}
document.getElementById("down").onmouseup = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}

//x

document.getElementById("left").onmousedown = function(){
    document.getElementById("en1").style.backgroundColor = "black";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}
document.getElementById("left").onmouseup = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}

document.getElementById("right").onmousedown = function(){
    document.getElementById("en1").style.backgroundColor = "black";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "white";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}

document.getElementById("right").onmouseup = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}


//y:

document.getElementById("away").onmousedown = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "black";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}

document.getElementById("away").onmouseup = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}
document.getElementById("towards").onmousedown = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "black";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "white";
    document.getElementById("dir3").style.backgroundColor = "black";
}

document.getElementById("towards").onmouseup = function(){
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";
}

document.getElementById("go").onclick = function(){
    runGlyph();
}

document.getElementById("stopicon").onclick = function(){
     location.reload(); 
}


glyph = "0500,0400,0401,0402,0403,0404,0405,0400,0401,0402,0403,0404,0405,0400,0401,0402,0403,0404,0405,0400,0401,0402,0403,0404,0405,0400,0401,0402,0403,0404,0405,0400,0401,0402,0403,0404,0405,0400,0401,0402,0403,0404,0405,0400,0401,0402,0403,0404,0405,";

glyph = lsp;

glyph = glyph.replace(/0500,/g, "0406,0406,0403,0407,0405,0404,0407,");
glyph = glyph.replace(/0501,/g, "0406,0406,0402,0407,0405,0404,0407,");
glyph = glyph.replace(/0502,/g, "0406,0406,0401,0407,0405,0404,0407,");
glyph = glyph.replace(/0503,/g, "0406,0406,0400,0407,0405,0404,0407,");
glyph = glyph.replace(/0504,/g, "0406,0406,0403,0407,0407,");
glyph = glyph.replace(/0505,/g, "0406,0406,0402,0407,0407,");
glyph = glyph.replace(/0506,/g, "0406,0406,0401,0407,0407,");
glyph = glyph.replace(/0507,/g, "0406,0406,0400,0407,0407,");

glyphStringArray = glyph.split(",");

glyphArray = [];
for(var index = 0;index < glyphStringArray.length;index++){
    if(glyphStringArray[index].length > 0){
        var localaction = parseInt(glyphStringArray[index],8);
        glyphArray.push(parseInt(glyphStringArray[index],8));
    }
}


var id = null;
flashes = 8;

en1 = document.getElementById("en1");   
en2 = document.getElementById("en2");   
en3 = document.getElementById("en3");   
dir1 = document.getElementById("dir1");   
dir2 = document.getElementById("dir2");   
dir3 = document.getElementById("dir3");   

function runGlyph() {
  var pos = 0;
  
  clearInterval(id);
  id = setInterval(frame, side);
  function frame() {
    if (pos == glyphArray.length) {
      clearInterval(id);
    } else {

      geometronAction(glyphArray[pos]);
      pos++; 
      if(pos >= glyphArray.length){
          geometronAction(0300);
      }
    }
  }
}

function geometronAction(action){
    if(action == 0300){
 	     en1.style.backgroundColor ="white";  
 	     en2.style.backgroundColor ="white";  
 	     en3.style.backgroundColor ="white";  
 	     dir1.style.backgroundColor ="black";  
 	     dir2.style.backgroundColor ="black";  
 	     dir3.style.backgroundColor ="black";  
    }
    if(action == 0400){
 	     en1.style.backgroundColor ="black";  
 	     en2.style.backgroundColor ="white";  
 	     en3.style.backgroundColor ="white";  
 	     dir1.style.backgroundColor ="white";  
 	     dir2.style.backgroundColor ="black";  
 	     dir3.style.backgroundColor ="black";  
    }
    if(action == 0401){
 	     en1.style.backgroundColor ="black";  
 	     en2.style.backgroundColor ="white";  
 	     en3.style.backgroundColor ="white";  
 	     dir1.style.backgroundColor ="white";  
 	     dir2.style.backgroundColor ="black";  
 	     dir3.style.backgroundColor ="black";  
    }
    if(action == 0402){
 	     en1.style.backgroundColor ="white";  
 	     en2.style.backgroundColor ="black";  
 	     en3.style.backgroundColor ="white";  
 	     dir1.style.backgroundColor ="black";  
 	     dir2.style.backgroundColor ="black";  
 	     dir3.style.backgroundColor ="black";  
    }
    if(action == 0403){
 	     en1.style.backgroundColor ="white";  
 	     en2.style.backgroundColor ="black";  
 	     en3.style.backgroundColor ="white";  
 	     dir1.style.backgroundColor ="black";  
 	     dir2.style.backgroundColor ="white";  
 	     dir3.style.backgroundColor ="black";  
    }
    
    if(action == 0404){
 	     en1.style.backgroundColor ="white";  
 	     en2.style.backgroundColor ="white";  
 	     en3.style.backgroundColor ="black";  
 	     dir1.style.backgroundColor ="black";  
 	     dir2.style.backgroundColor ="black";  
 	     dir3.style.backgroundColor ="black";  
    }
    if(action == 0405){
 	     en1.style.backgroundColor ="white";  
 	     en2.style.backgroundColor ="white";  
 	     en3.style.backgroundColor ="black";  
 	     dir1.style.backgroundColor ="black";  
 	     dir2.style.backgroundColor ="black";  
 	     dir3.style.backgroundColor ="white";  
    }
    if(action == 0406){
        side /= 2;
    }    
    if(action == 0407){
        side *= 2;
    }    
    if(action >= 0500 && action < 0600){
        //sequence, break this out, recursion won't work with animation
    }
}

outputsquaresize = 150;
document.getElementById("squaresizeinput").value = outputsquaresize.toString();

document.getElementById("squaresizeinput").onchange = function(){
    outputsquaresize = parseInt(this.value);
    outputsquares = document.getElementById("responsetable").getElementsByTagName("TD");
    for(var index = 0;index < outputsquares.length;index++){
        outputsquares[index].style.width = outputsquaresize.toString() + "px";
        outputsquares[index].style.height = outputsquaresize.toString() + "px";
    }
    
}

document.getElementById("actioninput").value = "";
document.getElementById("actioninput").select();
document.getElementById("actioninput").onkeydown = function(a){
    
    var charCode = a.keyCode || a.which;
    document.getElementById("actioninput").value ="";
    
    console.log(charCode);
    if(charCode == 0161 || charCode == 0121) { //q/Q = quit
        //quit
        location.reload(); 

    }
    if(charCode == 040) { //go = space bar
        runGlyph();
        //
    }


    if(charCode == 0141 || charCode == 0101) { //a = up
        document.getElementById("en1").style.backgroundColor = "white";
        document.getElementById("en2").style.backgroundColor = "white";
        document.getElementById("en3").style.backgroundColor = "black";
        document.getElementById("dir1").style.backgroundColor = "black";
        document.getElementById("dir2").style.backgroundColor = "black";
        document.getElementById("dir3").style.backgroundColor = "black";
    }
    if(charCode == 0172 || charCode == 0132) { //z = down
        document.getElementById("en1").style.backgroundColor = "white";
        document.getElementById("en2").style.backgroundColor = "white";
        document.getElementById("en3").style.backgroundColor = "black";
        document.getElementById("dir1").style.backgroundColor = "black";
        document.getElementById("dir2").style.backgroundColor = "black";
        document.getElementById("dir3").style.backgroundColor = "white";

    }
    if(charCode == 050) { //down arrow towards
        document.getElementById("en1").style.backgroundColor = "white";
        document.getElementById("en2").style.backgroundColor = "black";
        document.getElementById("en3").style.backgroundColor = "white";
        document.getElementById("dir1").style.backgroundColor = "black";
        document.getElementById("dir2").style.backgroundColor = "white";
        document.getElementById("dir3").style.backgroundColor = "black";

    }
    if(charCode == 046) { //up arrow is away
        document.getElementById("en1").style.backgroundColor = "white";
        document.getElementById("en2").style.backgroundColor = "black";
        document.getElementById("en3").style.backgroundColor = "white";
        document.getElementById("dir1").style.backgroundColor = "black";
        document.getElementById("dir2").style.backgroundColor = "black";
        document.getElementById("dir3").style.backgroundColor = "black";

    }
    if(charCode == 045) { //left arrow = left
        document.getElementById("en1").style.backgroundColor = "black";
        document.getElementById("en2").style.backgroundColor = "white";
        document.getElementById("en3").style.backgroundColor = "white";
        document.getElementById("dir1").style.backgroundColor = "black";
        document.getElementById("dir2").style.backgroundColor = "black";
        document.getElementById("dir3").style.backgroundColor = "black";

    }
    if(charCode == 047) { //right arrow = right
        document.getElementById("en1").style.backgroundColor = "black";
        document.getElementById("en2").style.backgroundColor = "white";
        document.getElementById("en3").style.backgroundColor = "white";
        document.getElementById("dir1").style.backgroundColor = "white";
        document.getElementById("dir2").style.backgroundColor = "black";
        document.getElementById("dir3").style.backgroundColor = "black";

    }

}

document.getElementById("actioninput").onkeyup = function(){
    
    document.getElementById("en1").style.backgroundColor = "white";
    document.getElementById("en2").style.backgroundColor = "white";
    document.getElementById("en3").style.backgroundColor = "white";
    document.getElementById("dir1").style.backgroundColor = "black";
    document.getElementById("dir2").style.backgroundColor = "black";
    document.getElementById("dir3").style.backgroundColor = "black";

}


</script>
<style>
table{
    display:inline;
}
body{
    background-color:black;
}
    #controltable td{
        border:solid;
        width:150px;
        height:150px;
        border:solid;
        border-color:#ff69b4;
        cursor:pointer;
        background-color:white;
    }
    #responsetable td{
        border:solid;
        width:200px;
        height:200px;
        background-color:black;
        color:purple;
    }
#responsetable{
    position:absolute;
    right:0px;
    bottom:0px;
}
#inputtable{
    position:absolute;
    right:0px;
    top:0px;
    background-color:black;
    color:#00ff00;
    font-family:courier;
    font-size:20px;
}
#inputtable input{
    background-color:black;
    color:#00ff00;
    font-family:courier;
    font-size:20px;
    
}

</style>
</body>
</html>


